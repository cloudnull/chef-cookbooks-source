# This file autogenerated by Chef
# Do not edit, changes will be overwritten
<%
  def serialize_hash(hash, indent = 0, string="")
    hash.each_pair do |key, value|
      if ["Type", "Plugin", "Host"].include?(key.to_s.split("_").first.capitalize)
        proper_key = key.to_s.split("_").first.capitalize
        proper_value = key.to_s.split("_").drop(1).join("_")
        string = "%s%#{indent}s<%s \"%s\">\n" % [ string, "", proper_key, proper_value  ]
        string = "%s%s" % [ string, serialize_hash(value, indent + 1) ]
        string = "%s%#{indent}s</%s>\n" % [ string, "", proper_key ]
      elsif value.class == Array
        value.each do |subvalue|
          string = "%s%#{indent}s%s %s\n" % [ string, "", collectd_key(key), collectd_option(subvalue) ]
        end
      else
        string = "%s%#{indent}s%s %s\n" % [ string, "", collectd_key(key), collectd_option(value) ]
      end
    end
    string
  end
%>
<Threshold>
<%= serialize_hash(@options, 1) -%>
</Threshold>
