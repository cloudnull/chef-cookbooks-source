# This file auto-generated by Chef
# Do not edit, changes will be overwritten

[DEFAULT]
#Engine name
host=<%= @heat_engine_bind %>

# Legacy DB Configuration
sql_connection=mysql://<%= "#{@mysql_user}:#{@mysql_password}@#{@mysql_host}/#{@mysql_db}" %>

# Log Levels
debug=<%= @debug %>
verbose=<%= @verbose %>


##### LOGGING #####
logging_context_format_string=%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user)s %(tenant)s] %(instance)s%(message)s
efault_log_levels=amqplib=WARN,sqlalchemy=WARN,boto=WARN,suds=INFO,keystone=INFO,eventlet.wsgi.server=WARN
log_date_format=%Y-%m-%d %H:%M:%S
use_syslog=<%= @use_syslog %>
<% if node["heat"]["syslog"]["facility"] -%>
syslog_log_facility=<%= @syslog_log_facility %>
<% end -%>
log_dir=/var/log/heat
log_file=heat.log

# Max size
max_template_size=<%= @template_size %>

# Set the encryption key
auth_encryption_key=<%= @heat_auth_encryption_key %>

<% if node["heat"]["services"]["cloudwatch_api"]["enabled"] -%>
# Cloud Watch Server URL
heat_watch_server_url=<%= @heat_api_cloudwatch_scheme %>://<%= @heat_api_cloudwatch_host %>:<%= @heat_api_cloudwatch_port %>
<% end -%>

<% if node["heat"]["services"]["cfn_api"]["enabled"] -%>
# Heat server bits
heat_waitcondition_server_url=<%= @heat_api_cfn_scheme %>://<%= @heat_api_cfn_host %>:<%= @heat_api_cfn_port %>/v1/waitcondition
heat_metadata_server_url=<%= @heat_api_cfn_scheme %>://<%= @heat_api_cfn_host %>:<%= @heat_api_cfn_port %>
<% end -%>

##### RABBITMQ #####
<%= render "partials/queue-config.partial.erb" %>

##### POLICY #####
<%= render "partials/policy.partial.erb" %>

##### HEARTBEAT #####
<%= render "partials/heartbeat.partial.erb" %>

##### EC2 #####
<%= render "partials/ec2.partial.erb" %>

<% if node["heat"]["ssl"]["enabled"] -%>
##### SSL #####
<%= render "partials/ssl.erb" %>
<% end -%>

<% if node["heat"]["services"]["base_api"]["enabled"] -%>
##### BASE API #####
<%= render "partials/api.partial.erb" %>
<% end -%>

<% if node["heat"]["services"]["cloudwatch_api"]["enabled"] -%>
##### CLOUDWATCH API #####
<%= render "partials/cloudwatch.partial.erb" %>
<% end -%>

<% if node["heat"]["services"]["cfn_api"]["enabled"] -%>
##### CLOUD FORMATION API #####
<%= render "partials/cfn.partial.erb" %>
<% end -%>

##### DATABASE #####
<%= render "partials/database.partial.erb" %>

##### KEYSTONE #####
<%= render "partials/keystone.partial.erb" %>
