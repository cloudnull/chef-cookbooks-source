# This file autogenerated by Chef
# Do not edit, changes will be overwritten
<% if not node["custom_template_banner"].nil? %>
<%= node["custom_template_banner"] %>
<% end %>


[DEFAULT]
##### LOGGING #####
verbose = True
debug = <%= @use_debug %>
log_file = /var/log/glance/api.log


##### DEFAULT OPTIONS #####
default_store = <%= @default_store %>
filesystem_store_datadir = /var/lib/glance/images/
show_image_direct_url = <%= @show_image_direct_url %>
bind_host = <%= @api_bind_address %>
bind_port = <%= @api_bind_port %>
workers = <%= @glance_workers %>
backlog = 4096
notifier_strategy = <%= @notifier_strategy %>
delayed_delete = False
scrub_time = 43200
scrubber_datadir = /var/lib/glance/scrubber
image_cache_dir = /var/lib/glance/image-cache/


##### SQL #####
sql_connection = mysql://<%= @db_user %>:<%= @db_password %>@<%= @db_ip_address %>/<%= @db_name %>
sql_idle_timeout = 3600
db_auto_create = False
sqlalchemy_debug = False


##### REGISTRY OPTIONS #####
registry_host = <%= @registry_ip_address %>
registry_port = <%= @registry_port %>
registry_client_protocol = <%= @registry_scheme %>

<% if @registry_scheme == "https" %>
registry_client_insecure = True
<% end %>


##### MESSAGING QUEUE #####
rabbit_host = <%= @rabbit_ipaddress %>
rabbit_port = <%= @rabbit_port %>
rabbit_use_ssl = false
rabbit_userid = guest
rabbit_password = guest
rabbit_virtual_host = /
rabbit_notification_exchange = glance
rabbit_notification_topic = <%= @notification_topic %>
rabbit_ha_queues = <%= @rabbit_ha_queues %>


<% if @default_store == "swift" %>
##### SWIFT STORE BACKEND #####
swift_store_auth_version = <%= @swift_store_auth_version %>
swift_store_auth_address = <%= @swift_store_auth_address %>
swift_store_user = <%= @swift_store_user %>
swift_store_key = <%= @swift_store_key %>
swift_store_container = <%= @swift_store_container %>
swift_store_create_container_on_put = True
swift_store_large_object_size = <%= @swift_large_object_size %>
swift_store_large_object_chunk_size = <%= @swift_large_object_chunk_size %>
swift_enable_snet = <%= @swift_enable_snet %>
<% if @swift_store_region != nil %>
swift_store_region = <%= @swift_store_region %>
<% end %>
<% end %>


##### RBD #####
rbd_store_ceph_conf = <%= @rbd_store_ceph_conf %>
rbd_store_user = <%= @rbd_store_user %>
rbd_store_pool = <%= @rbd_store_pool %>
rbd_store_chunk_size = <%= @rbd_store_chunk_size %>


##### KEYSTONE #####
[keystone_authtoken]
auth_host = <%= @keystone_api_ipaddress %>
auth_port = <%= @keystone_admin_port %>
auth_protocol = <%= @keystone_service_protocol %>
admin_tenant_name = <%= @service_tenant_name %>
admin_user = <%= @service_user %>
admin_password = <%= @service_pass %>


##### PASTE #####
[paste_deploy]
<% unless @glance_flavor.nil? %>
flavor = <%= @glance_flavor %>
<% end %>
